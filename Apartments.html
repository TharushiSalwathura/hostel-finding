<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Staynest</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>

  <style>
    body {
      font-family: 'Plus Jakarta Sans', Helvetica, sans-serif;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }


.bg-light {
    --bs-bg-opacity: 1;
    background-color: #000000 !important;
}
.p-3 {
    padding: 5px 5px !important;
    display: flex;
    
}

.py-5 {
    padding-top: 5px;
    padding-bottom: 5px;
   
}

.btn-outline-primary {
    --bs-btn-color: #ff7300;
    --bs-btn-border-color: #ff7300;
    --bs-btn-hover-color: #000000;
    --bs-btn-hover-bg: lab(100% 0.01 -0.01);
    --bs-btn-hover-border-color: #000000;
    --bs-btn-focus-shadow-rgb: 13, 110, 253;
    --bs-btn-active-color: #000000;
    --bs-btn-active-bg: #fffdfc;
    --bs-btn-active-border-color: #fafafa;
    --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
    --bs-btn-disabled-color: #000000;
    --bs-btn-disabled-bg: #f7f5f5;
    --bs-btn-disabled-border-color: #ffffff;
    --bs-gradient: none;
}


.container{

        --bs-gutter-x: 1rem;
}

.logoimg{
    max-height:100px;
    margin-left: 1rem;
    width: auto;

}
.btn-primary {
    --bs-btn-color: #fff;
    --bs-btn-bg: #ffffff;
    --bs-btn-border-color: #000000;
    --bs-btn-hover-color: #000000;
    --bs-btn-hover-bg: #000000;
    --bs-btn-hover-border-color: #000000;
    --bs-btn-focus-shadow-rgb: 49, 132, 253;
    --bs-btn-active-color: #fff;
    --bs-btn-active-bg: #fff;
    --bs-btn-active-border-color: #000000;
    --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
    --bs-btn-disabled-color: #fff;
    --bs-btn-disabled-bg: #fff;
    --bs-btn-disabled-border-color: #fff;
}

.container{

        --bs-gutter-x: 1rem;}


a {
    color: rgb(255, 255, 255);
    text-decoration: none;
    margin-top: 10px;
    margin-bottom: 0px;}

   

 /* Menu Icon */
 .menu-icon {
  font-size: 25px;
  cursor: pointer;
  position: absolute;
  top: 20px;
  left: 20px;
  color: white;
  background: #000000;
  padding: 8px 12px;
  border-radius: 6px;
  z-index: 1001;
}


/* Side Menu */
.side-menu {
  height: 100%;
  width: 0;   /* Start closed */
  position: fixed;   /* Use fixed so it stays in place */
  top: 0;
  left: 0;
  background-color: #ffffff;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 80px;
  z-index: 1000;
}

.side-menu a {
  padding: 12px 14px;
  text-decoration: none;
  font-size: 14px;
  color: rgb(0, 0, 0);
  display: block;
  transition: 0.3s;
}

.side-menu a:hover {
  background: rgba(0, 0, 0, 0.2);
}

.side-menu  {
  position:absolute;
  top: 0px;
  right: 20px;
  font-size: 18px;
  
}
.closebtn{
 position:absolute;
  top: 15px;
  right: 25px;
  font-size: 18px;

}
/* Hero / Navigation Image Full Width with Overlay */
    .hero {
  position: relative;
  width: 100%;
  height: 20rem; /* adjust height as needed */
  background: url('img/Apartments.jpg') center center / cover no-repeat;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: white;
}
   .hero::before {
  content: "";
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* dark overlay */
  z-index: 1;
}
     .hero-content {
  position: relative; /* sits on top of overlay */
  z-index: 2;
}

.hero-content h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
}

.hero-content p {
  font-size: 1.2rem;
}
    .navimg{
   width: 150rem;
    height: 30rem;
}
 /* Ads Grid */
    .ads-grid {
      padding: 20px;
    }
    .card {
      border: none;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: transform 0.2s;
      background-color: #fff;
    }
    .card:hover { transform: translateY(-5px); }
    .card img {
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
      height: 200px;
      object-fit: cover;
    }
    .card-body h5 { color: #ff7300; }

    .col-md-3 {
        flex: 0 0 auto;
        width: 20%;
    }

        
  </style>


 

  <body font-family=" 'Plus Jakarta Sans', Helvetica, sans-serif;">

    <!-- Menu Icon -->
<div class="menu-icon" onclick="openMenu()">‚ò∞</div>

<!-- Side Menu -->
<div id="sideMenu" class="side-menu">
  <a href="javascript:void(0)" class="closebtn" onclick="closeMenu()">√ó</a>
  <a href="staynest.html">Home</a>
  <a href="Single Room.html">Single Rooms</a>
  <a href="Double Room.html">Double Rooms</a>
  <a href="Shared Dorms.html">Shared Dorms</a>
  <a href="Family Rooms.html">Family Rooms</a>
  <a href="Apartments.html">Apartments</a>
  <a href="#">Contact</a>
  <a href="about.html">About</a>
</div>

    <header class="p-3 bg-light border-bottom">
        <div class="container">  
            <div class="d-flex justify-content-between align-items-center">
                <a href="#" class="navbar-brand">
                    <img class="logoimg" src="img\logo.png">
                </a>
                <div class="d-flex align-items-center">
                     
                    <a href="login.html" class="btn btn-outline-primary">Post your ad</a>
                   
                </div>
            </div>
        </div>
    </header>

    <main class="container my-5">

        <section class="mb-5">
            <h2 class="text-center mb-4"  >Search your location here....</h2>
              <form action="search_results.html" method="GET">
                <div class="input-group">
                  <input type="text" class="form-control" name="query" placeholder="Search for a stay...">
                  <button class="btn btn-primary" type="submit">üîç</button>
                </div>
            </form>
        </section>

     <!-- Hero / Navigation Image Full Width with Overlay -->
<section class="hero">
  <div class="hero-content">
    <h1>Find Your Perfect Apartment</h1>
    <p>Browse safe and affordable rooms posted directly by users near universities and transport hubs.</p>
  </div>
</section>

   <!-- Ads Grid -->
  <section class="ads-grid container">
    <div class="row g-4">
      
      <!-- apartment Card Template (Data from DB) -->
      <div class="col-md-4">
        <div class="card">
          <img src="{{room_image}}" alt="{{room_title}}">
          <div class="card-body">
            <h5>{{room_title}}</h5>
            <p>Location: {{room_location}}</p>
            <p>Price: {{room_price}}</p>
            <p>Contact: {{room_contact}}</p>
          </div>
        </div>
      </div>

      <!-- Repeat the above card block dynamically for each room -->

    </div>
  </section>


   
    
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <div class="row">
                <div class="col-md-3 mb-3">
                   <h5> <a href="about.html">About</a></h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">About StayNest
                         </a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Our Mission
                        </a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Terms & Conditions
                       </a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Privacy Policy
                       </a></li>
                       </ul>
                </div>
                <div class="col-md-3 mb-3">
                    <h5>Download APP</h5>
                    <div class="d-flex flex-column">
                        <a href="#" class="btn btn-outline-light ">App Store</a>
                        <a href="#" class="btn btn-outline-light">Google Play</a>
                    </div>
                </div>

                 <div class="col-md-3 mb-3">
                    <h5> <a href="Blog.html">Blog & Guides</a></h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">Hostel Living Tips

                         </a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Student 
                        </a></li>
                       
                       </ul>
                </div>

              <div class="col-md-3 mb-3">
                    <h5> <a href="Accommodation.html">Accommodation Guide</a> </h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">Budget Travel Hacks </a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Moving to a New City</a></li>
                       <li><a href="#" class="text-white-50 text-decoration-none">Official Blog</a></li>
                       
                       </ul>
                </div>    
                <div class="col-md-3 mb-3">
                    <h5>Social Media</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white-50 text-decoration-none">Facebook</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">Instagram</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">TikTok</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">YouTube</a></li>
                        <li><a href="#" class="text-white-50 text-decoration-none">LinkedIn</a></li>
                    </ul>
                </div>
            </div>
            <hr class="mt-4 border-secondary">
            <div class="text-center text-white-50">
                <p>&copy; 2024 The Staynest. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Determine room type from URL or page
    const roomType = window.location.pathname.includes('Single') ? 'single' : 
                    window.location.pathname.includes('Double') ? 'double' :
                    window.location.pathname.includes('Shared') ? 'shared' :
                    window.location.pathname.includes('Family') ? 'family' :
                    window.location.pathname.includes('Apartments') ? 'apartment' : '';
    
    // Fetch rooms from server
    fetch(`get_rooms.php?type=${roomType}`)
        .then(response => response.json())
        .then(rooms => {
            const roomsGrid = document.querySelector('.ads-grid .row');
            if (roomsGrid && rooms.length > 0) {
                roomsGrid.innerHTML = ''; // Clear existing placeholder content
                
                rooms.forEach(room => {
                    const roomCard = `
                        <div class="col-md-4 mb-4">
                            <div class="card">
                                <img src="${room.image_path}" class="card-img-top" alt="${room.title}" style="height: 200px; object-fit: cover;">
                                <div class="card-body">
                                    <h5 class="card-title">${room.title}</h5>
                                    <p class="card-text">${room.district} District</p>
                                    <p class="card-text">Price: LKR ${room.price}/month</p>
                                    <p class="card-text">Facilities: ${room.facilities}</p>
                                    <a href="${room.google_map_link}" target="_blank" class="btn btn-primary">View Location</a>
                                    <p class="card-text mt-2">Contact: ${room.contact_info || 'Available after login'}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    roomsGrid.innerHTML += roomCard;
                });
            } else if (roomsGrid) {
                roomsGrid.innerHTML = '<div class="col-12"><p class="text-center">No rooms available at the moment.</p></div>';
            }
        })
        .catch(error => {
            console.error('Error fetching rooms:', error);
        });
    });
    </script>

    <!-- Bootstrap JS + jQuery + Popper -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
   <script>
function openMenu() {
  document.getElementById("sideMenu").style.width = "250px";
}

function closeMenu() {
  document.getElementById("sideMenu").style.width = "0";
}
</script>

  </body>
</html>
